{"version":3,"file":"./srcissors.js","mappings":"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","sources":["webpack://srcissors/webpack/universalModuleDefinition","webpack://srcissors/./src/crop.js","webpack://srcissors/./src/events.js","webpack://srcissors/./src/preview.js","webpack://srcissors/./src/srcissors.js","webpack://srcissors/external umd {\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\",\"root\":\"jQuery\"}","webpack://srcissors/webpack/bootstrap","webpack://srcissors/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jquery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jquery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"srcissors\"] = factory(require(\"jquery\"));\n\telse\n\t\troot[\"srcissors\"] = factory(root[\"jQuery\"]);\n})(self, (__WEBPACK_EXTERNAL_MODULE__47__) => {\nreturn ","const $ = require('jquery')\nconst Preview = require('./preview')\nconst Events = require('./events')\n\nmodule.exports = class Crop {\n  constructor ({\n    arena, view, img, outline, url, fixedWidth, fixedHeight,\n    minViewWidth, minViewHeight, minViewRatio, maxViewRatio, originalSize, crop,\n    zoomStep, maxArea, actions, minResolution, surroundingImageOpacity,\n    showSurroundingImage\n  }) {\n    // CSS classes\n    this.onPreviewReady = this.onPreviewReady.bind(this)\n    this.arena = arena\n    this.view = view\n    this.img = img\n    this.outline = outline\n    this.fixedWidth = fixedWidth\n    this.fixedHeight = fixedHeight\n    this.minViewWidth = minViewWidth\n    this.minViewHeight = minViewHeight\n    this.minViewRatio = minViewRatio\n    this.maxViewRatio = maxViewRatio\n    this.originalSize = originalSize\n    this.actions = actions\n    this.minResolution = minResolution\n    this.surroundingImageOpacity = surroundingImageOpacity\n    this.loadingCssClass = 'crop-view--is-loading'\n    this.panningCssClass = 'crop-view--is-panning'\n    this.outlineCssClass = 'crop-outline--active'\n\n    // State\n    this.isPanning = false\n    this.initialCrop = crop\n\n    // Events\n    this.loadEvent = $.Callbacks()\n    this.changeEvent = $.Callbacks()\n\n    // Sets up the ready event and state\n    this.initializeReadyState()\n\n    // Confguration\n    this.zoomInStep = zoomStep\n    this.zoomOutStep = 1 / this.zoomInStep\n\n    this.arenaWidth = this.arena.width()\n    this.arenaHeight = this.arena.height()\n\n    // todo: consider to calculate maxArea with regards to the\n    // maximum space an image can within the area. That should\n    // be more reliable.\n    if (maxArea) this.maxArea = (this.arenaWidth * this.arenaHeight) * maxArea\n\n    if (this.outline) this.setSurroundingImageVisibility(showSurroundingImage)\n\n    this.preview = new Preview({\n      onReady: this.onPreviewReady,\n      img: this.img,\n      outline: this.outline,\n      opacity: this.surroundingImageOpacity\n    })\n\n    this.setImage(url)\n  }\n\n  initializeReadyState () {\n    this.isReady = false\n    if (this.readyEvent != null) {\n      this.readyEvent.empty()\n    }\n    this.readyEvent = $.Callbacks('memory once')\n  }\n\n  setImage (url) {\n    if (url === this.preview.url) return\n\n    if (this.isInitialized) this.preview.reset()\n    this.initializeReadyState()\n    this.view.addClass(this.loadingCssClass)\n    this.preview.setImage({url})\n  }\n\n  setSurroundingImageVisibility (visibility) {\n    // visibility: always|panning|never\n    // override opacity in crop-outline--active css class\n    this.surroundingImageOpacity = parseFloat(this.surroundingImageOpacity || 0.2)\n\n    if (visibility === 'always') {\n      this.outline.css('opacity', 1.0)\n    } else if (visibility === 'panning') {\n      this.outline.css('opacity', null)\n    } else { // 'never' default\n      this.outline.css('opacity', 0)\n      this.surroundingImageOpacity = 0\n    }\n  }\n\n  reset () {\n    if (!this.isReady) return\n\n    this.resize({width: this.imageWidth, height: this.imageHeight})\n    this.zoomAllOut()\n  }\n\n  onPreviewReady (previewImageSize) {\n    this.checkRatio(previewImageSize)\n    const {width, height} = this.originalSize || previewImageSize\n\n    // console.log(this.originalSize, previewImageSize, {width, height})\n    this.preview.updateImageDimensions({width, height})\n\n    let keepDimension\n    if (!this.isInitialized) {\n      this.events = new Events({\n        parent: this,\n        view: this.view,\n        actions: this.actions\n      })\n    }\n\n    this.imageWidth = width\n    this.imageHeight = height\n    this.imageRatio = this.imageWidth / this.imageHeight\n    const imageResolution = this.imageWidth * this.imageHeight\n\n    if (this.minResolution && (this.minResolution > imageResolution)) {\n      // If the minimal required resolution is bigger than the actual image\n      // resolution, we ignore the configuration\n      delete this.minResolution\n    }\n\n    if (this.minResolution) {\n      // For any given image resolution with a minimal required resolution\n      // we can calculate both, a minimal resolution and a maximal resolution\n      const minRatioForResolution = this.minResolution / (this.imageHeight * this.imageHeight)\n      if (!this.minViewRatio || (this.minViewRatio < minRatioForResolution)) {\n        this.minViewRatio = minRatioForResolution\n      }\n      const maxRatioForResolution = (this.imageWidth * this.imageWidth) / this.minResolution\n      if (!this.maxViewRatio || (this.maxViewRatio > maxRatioForResolution)) {\n        this.maxViewRatio = maxRatioForResolution\n      }\n    }\n\n    this.calcMaxMinDimensions()\n\n    if (this.fixedWidth) { keepDimension = 'width' }\n    if (this.fixedHeight) { keepDimension = 'height' }\n    this.setViewDimensions({\n      width: this.imageWidth,\n      height: this.imageHeight,\n      keepDimension\n    })\n\n    // ready state\n    this.isReady = true\n    this.view.removeClass(this.loadingCssClass)\n\n    if (!this.isInitialized && (this.initialCrop != null)) {\n      this.setCrop(this.initialCrop)\n    } else {\n      this.zoomAllOut()\n      this.center()\n    }\n\n    this.isInitialized = true\n    this.readyEvent.fire()\n    this.loadEvent.fire()\n  }\n\n  setCrop ({x, y, width, height}) {\n    if (!this.isReady) {\n      this.on('ready', () => this.setCrop({x, y, width, height}))\n      return\n    }\n\n    this.resize({width, height})\n\n    const factor = this.viewWidth / width\n    const previewWidth = this.imageWidth * factor\n\n    this.zoom({width: previewWidth})\n    this.pan({x: x * factor, y: y * factor})\n  }\n\n  getCrop () {\n    const factor = this.preview.width / this.imageWidth\n    const crop = {\n      x: this.preview.x / factor,\n      y: this.preview.y / factor,\n      width: this.viewWidth / factor,\n      height: this.viewHeight / factor\n    }\n\n    this.roundCrop(crop)\n    this.validateCrop(crop)\n    return crop\n  }\n\n  roundCrop (crop) {\n    for (const name in crop) {\n      const value = crop[name]\n      crop[name] = Math.round(value)\n    }\n  }\n\n  validateCrop (crop) {\n    const {x, y, width, height} = crop\n    if (x < 0) crop.x = 0\n    if (y < 0) crop.y = 0\n\n    if ((x + width) > this.imageWidth) {\n      crop.width = this.imageWidth - x\n    }\n\n    if ((y + height) > this.imageHeight) {\n      crop.height = this.imageHeight - y\n    }\n\n    return crop\n  }\n\n  setRatio (ratio, keepDimension) {\n    let height, width\n    if (!this.isReady) {\n      this.on('ready', () => this.setRatio(ratio, keepDimension))\n      return\n    }\n\n    ratio = this.enforceValidRatio(ratio)\n\n    if (keepDimension === 'height') {\n      height = this.viewHeight\n      width = height * ratio\n    } else {\n      width = this.viewWidth\n      height = width / ratio\n    }\n\n    this.resizeFocusPoint = this.getFocusPoint()\n    return this.resize({width, height})\n  }\n\n  // Event handling\n  // --------------\n\n  onPan (data) {\n    if (!this.isPanning) {\n      this.isPanning = true\n      this.arena.addClass(this.panningCssClass)\n      this.outline.addClass(this.outlineCssClass)\n    }\n\n    const newX = data.startX - data.dx\n    const newY = data.startY - data.dy\n    this.pan({x: newX, y: newY})\n  }\n\n  onPanEnd () {\n    this.isPanning = false\n    this.arena.removeClass(this.panningCssClass)\n    return this.outline.removeClass(this.outlineCssClass)\n  }\n\n  onDoubleClick ({pageX, pageY}) {\n    const {left, top} = this.view[0].getBoundingClientRect()\n    const viewX = pageX - left\n    const viewY = pageY - top\n    this.zoomIn({viewX, viewY})\n  }\n\n  onResize ({position, dx, dy}) {\n    if (!this.isResizing) {\n      this.isResizing = true\n      this.resizeFocusPoint = this.getFocusPoint()\n    }\n\n    if (['top', 'bottom'].includes(position)) {\n      dy = 2 * dy // Because it's centered we need to change width by factor two\n      this.resize({width: this.viewWidth, height: this.viewHeight + dy, keepDimension: 'height'})\n    } else if (['left', 'right'].includes(position)) {\n      dx = 2 * dx\n      this.resize({width: this.viewWidth + dx, height: this.viewHeight, keepDimension: 'width'})\n    }\n  }\n\n  onResizeEnd () {\n    this.isResizing = false\n    this.resizeFocusPoint = undefined\n  }\n\n  resize ({width, height, keepDimension}) {\n    this.setViewDimensions({width, height, keepDimension})\n\n    // Update view center of focus point\n    if (this.resizeFocusPoint) {\n      this.resizeFocusPoint.viewX = this.viewWidth / 2\n      this.resizeFocusPoint.viewY = this.viewHeight / 2\n    }\n\n    // Ensure dimensions and focus\n    this.zoom({\n      width: this.preview.width,\n      height: this.preview.height,\n      focusPoint: this.resizeFocusPoint\n    })\n  }\n\n  setViewDimensions ({width, height, keepDimension}) {\n    if (this.maxArea) {\n      ({width, height} = this.enforceMaxArea({width, height, keepDimension}))\n    }\n\n    ({width, height} = this.enforceViewDimensions({width, height, keepDimension}))\n\n    this.view.css({width, height})\n    this.viewWidth = width\n    this.viewHeight = height\n    this.viewRatio = width / height\n\n    if (this.minResolution) {\n      const minZoomPixelWidth = Math.sqrt(this.minResolution * this.viewRatio)\n      const minZoomPixelHeight = Math.sqrt(this.minResolution / this.viewRatio)\n      this.maxImageWidth = (this.viewWidth / minZoomPixelWidth) * this.imageWidth\n      this.maxImageHeight = (this.viewHeight / minZoomPixelHeight) * this.imageHeight\n    }\n\n    this.fireChange()\n  }\n\n  // Update view\n  // -----------\n\n  zoomAllOut () {\n    if (this.isWidthRestricting()) {\n      this.zoom({width: this.viewWidth})\n    } else {\n      this.zoom({height: this.viewHeight})\n    }\n  }\n\n  zoomIn (params) {\n    if (params == null) { params = {} }\n    if (this.isWidthRestricting()) {\n      params.width = this.preview.width * this.zoomInStep\n    } else {\n      params.height = this.preview.height * this.zoomInStep\n    }\n\n    this.zoom(params)\n  }\n\n  zoomOut (params) {\n    if (params == null) { params = {} }\n    if (this.isWidthRestricting()) {\n      params.width = this.preview.width * this.zoomOutStep\n    } else {\n      params.height = this.preview.height * this.zoomOutStep\n    }\n\n    this.zoom(params)\n  }\n\n  zoom ({width, height, viewX, viewY, focusPoint}) {\n    if (focusPoint == null) { focusPoint = this.getFocusPoint({viewX, viewY}) }\n\n    ({width, height} = this.enforceZoom({width, height}))\n    if (width != null) {\n      this.preview.setWidth(width)\n      this.fireChange()\n    } else if (height != null) {\n      this.preview.setHeight(height)\n      this.fireChange()\n    }\n\n    this.focus(focusPoint)\n  }\n\n  // returns {Object} e.g. percentX: 0.2, percentY: 0.5\n  getFocusPoint (param) {\n    if (param == null) { param = {} }\n    let {viewX, viewY} = param\n    if (viewX == null) { viewX = this.viewWidth / 2 }\n    if (viewY == null) { viewY = this.viewHeight / 2 }\n    const x = this.preview.x + viewX\n    const y = this.preview.y + viewY\n    const percentX = x / this.preview.width\n    const percentY = y / this.preview.height\n    return {percentX, percentY, viewX, viewY}\n  }\n\n  focus ({percentX, percentY, viewX, viewY}) {\n    let x = this.preview.width * percentX\n    let y = this.preview.height * percentY\n    x = x - viewX\n    y = y - viewY\n\n    this.pan({x, y})\n  }\n\n  center () {\n    const newX = (this.preview.width - this.viewWidth) / 2\n    const newY = (this.preview.height - this.viewHeight) / 2\n    this.pan({x: newX, y: newY})\n  }\n\n  // @param { Object }\n  // - x {Number} pixel to pan to the left\n  // - y {Number} pixels to pan to the top\n  pan (data) {\n    data = this.enforceXy(data)\n    this.preview.pan(data.x, data.y)\n    this.fireChange()\n  }\n\n  // Validations\n  // -----------\n\n  enforceXy ({x, y}) {\n    if (x > (this.preview.width - this.viewWidth)) {\n      x = this.preview.width - this.viewWidth\n    }\n\n    if (x < 0) x = 0\n\n\n    if (y > (this.preview.height - this.viewHeight)) {\n      y = this.preview.height - this.viewHeight\n    }\n\n    if (y < 0) y = 0\n\n    return {x, y}\n  }\n\n  enforceZoom ({width, height}) {\n\n    if ((width != null) && this.maxImageWidth && (width > this.maxImageWidth)) {\n      // prevent zooming in past the required resolution defined by minResolution\n      return {width: this.maxImageWidth}\n    }\n\n    if ((width != null) && (width < this.viewWidth)) {\n      // prevent zooming out past covering the view completely\n      return {width: this.viewWidth}\n    }\n\n    if ((height != null) && this.maxImageHeight && (height > this.maxImageHeight)) {\n      // prevent zooming in past the required resolution defined by minResolution\n      return {height: this.maxImageHeight}\n    }\n\n    if ((height != null) && (height < this.viewHeight)) {\n      // prevent zooming out past covering the view completely\n      return {height: this.viewHeight}\n    }\n\n    return {width, height}\n  }\n\n  calcMaxMinDimensions () {\n    this.maxWidth = this.min([this.arenaWidth, this.imageWidth])\n    this.maxHeight = this.min([this.arenaHeight, this.imageHeight])\n    this.minWidth = this.minViewWidth || 0\n    this.minHeight = this.minViewHeight || 0\n\n    if (this.fixedWidth) this.maxWidth = (this.minWidth = this.fixedWidth)\n    if (this.fixedHeight) this.maxHeight = (this.minHeight = this.fixedHeight)\n  }\n\n  areDimensionsValid ({width, height, keepDimension}) {\n    const ratio = width / height\n\n    const invalid =\n      (width < this.minWidth) ||\n      (width > this.maxWidth) ||\n      (height < this.minHeight) ||\n      (height > this.maxHeight) ||\n      (ratio < this.minViewRatio) ||\n      (ratio > this.maxViewRatio)\n\n    return !invalid\n  }\n\n  isValidRatio (ratio) {\n    return !((ratio < this.minViewRatio) || (ratio > this.maxViewRatio))\n  }\n\n  enforceValidRatio (ratio) {\n    if (ratio < this.minViewRatio) return this.minViewRatio\n    if (ratio > this.maxViewRatio) return this.maxViewRatio\n    return ratio\n  }\n\n  enforceViewDimensions ({width, height, keepDimension}) {\n    let newHeight, newWidth, ratio\n    if (width < this.minWidth) newWidth = this.minWidth\n    if (width > this.maxWidth) newWidth = this.maxWidth\n    if (height < this.minHeight) newHeight = this.minHeight\n    if (height > this.maxHeight) newHeight = this.maxHeight\n\n    if (keepDimension) {\n      if (newWidth) width = newWidth\n      if (newHeight) height = newHeight\n\n      // check max/min ratios\n      ratio = width / height\n      if (!this.isValidRatio(ratio)) {\n        ratio = this.enforceValidRatio(ratio);\n        ({width, height} = this.getRatioBox({ratio, width, height, keepDimension}))\n        if ((width > this.arenaWidth) || (height > this.arenaHeight)) {\n          ({width, height} = this.centerAlign(this.maxWidth, this.maxHeight, ratio))\n        }\n      }\n\n    } else if (newWidth || newHeight) {\n      ratio = this.enforceValidRatio(width / height);\n      ({width, height} = this.centerAlign(this.maxWidth, this.maxHeight, ratio))\n    }\n\n    return {width, height}\n  }\n\n  enforceMaxArea ({width, height, keepDimension}) {\n    let ratio = width / height\n\n    if (keepDimension === 'width') {\n      height = this.maxArea / width\n      ratio = width / height\n    } else if (keepDimension === 'height') {\n      width = this.maxArea / height\n      ratio = width / height\n    } else { // keep ratio\n      width = Math.sqrt(this.maxArea * ratio)\n      height = width / ratio\n    }\n\n    if (!this.isValidRatio(ratio)) {\n      ratio = this.enforceValidRatio(ratio)\n      width = Math.sqrt(this.maxArea * ratio)\n      height = width / ratio\n    }\n\n    return {width, height}\n  }\n\n  checkRatio (previewImageSize) {\n    if (this.originalSize) {\n      const expectedRatio = this.originalSize.width / this.originalSize.height\n      const actualRatio = previewImageSize.width / previewImageSize.height\n      const percentageChange = ((actualRatio - expectedRatio) / expectedRatio) * 100\n      if (Math.abs(percentageChange) > 1) {\n        throw new Error(`srcissors: Displayed image has a different image ratio than the ` +\n                        `one configured in 'originalRatio': ${expectedRatio} vs ${actualRatio}`)\n      }\n    }\n  }\n\n  // Calculations\n  // ------------\n  //\n  // Ratio: width / height\n  // Tall < 1 (Square) < Wide\n  // (A ratio less than one is a tall image format and\n  //  a ratio greater than one is a wide image format)\n\n  // Check if the width or height is restricting\n  isWidthRestricting () {\n    return this.viewRatio >= this.imageRatio\n  }\n\n  getRatioBox ({ratio, width, height, keepDimension}) {\n    if ((keepDimension === 'width') || (height == null)) {\n      height = width / ratio\n    } else if ((keepDimension === 'height') || (width == null)) {\n      width = height * ratio\n    } else {\n      height = width / ratio\n    }\n\n    return {width, height}\n  }\n\n  centerAlign (areaWidth, areaHeight, ratio) {\n    let height, width, x, y\n    if ((areaWidth / areaHeight) > ratio) {\n      width = areaHeight * ratio\n      x = (areaWidth - width) / 2\n    } else {\n      height = areaWidth / ratio\n      y = (areaHeight - height) / 2\n    }\n\n    // return\n    return {\n      x: x || 0,\n      y: y || 0,\n      width: width || areaWidth,\n      height: height || areaHeight\n    }\n  }\n\n  min (array) {\n    let min = array[0]\n    for (const number of array) {\n      if (number < min) min = number\n    }\n\n    return min\n  }\n\n  // Events\n  // ------\n\n  on (name, callback) {\n    return this[`${name}Event`].add(callback)\n  }\n\n  off (name, callback) {\n    return this[`${name}Event`].remove(callback)\n  }\n\n  // Debounce change events so they are not fired more\n  // than once per tick.\n  fireChange () {\n    if (this.changeDispatch != null) return\n\n    this.changeDispatch = setTimeout(() => {\n      this.changeDispatch = undefined\n      this.changeEvent.fire(this.getCrop())\n    }, 0)\n  }\n\n  // Development helpers\n  // -------------------\n\n  debug () {\n    const r = num => Math.round(num * 10) / 10\n\n    const obj = {\n      arena: `${r(this.arenaWidth)}x${r(this.arenaHeight)}`,\n      view: `${r(this.viewWidth)}x${r(this.viewHeight)}`,\n      image: `${r(this.imageWidth)}x${r(this.imageHeight)}`,\n      preview: `${r(this.preview.width)}x${r(this.preview.height)}`,\n      previewXy: `${r(this.preview.x)}x${r(this.preview.y)}`\n    }\n\n    console.log(obj) // eslint-disable-line no-console\n    return obj\n  }\n}\n","const $ = require('jquery')\n\nconst getPageCoordinates = function (event) {\n  if (event.type.includes('touch')) {\n    return {\n      pageX: event.originalEvent.changedTouches[0].pageX,\n      pageY: event.originalEvent.changedTouches[0].pageY\n    }\n  }\n  return {pageX: event.pageX, pageY: event.pageY}\n}\n\nmodule.exports = class Events {\n  constructor ({parent, view, horizontal, vertical, actions}) {\n    this.parent = parent\n    this.view = view\n    this.doubleClickThreshold = 300\n\n    // setup events\n    if (actions.pan) { this.pan() }\n    if (actions.zoomOnDoubleClick) { this.doubleClick() }\n    if (actions.resize) {\n      this.resizeView({\n        horizontal: actions.resizeHorizontal,\n        vertical: actions.resizeVertical\n      })\n    }\n\n    this.preventBrowserDragDrop()\n    this.responsiveArena()\n  }\n\n  pan () {\n    const $doc = $(document)\n    this.view.on('mousedown.srcissors touchstart.srcissors', (e1) => {\n      const panData = {\n        startX: this.parent.preview.x,\n        startY: this.parent.preview.y\n      }\n\n      e1.preventDefault()\n      $doc.on('mousemove.srcissors-pan touchmove.srcissors-pan', (e2) => {\n        const {pageX, pageY} = getPageCoordinates(e2)\n        const {pageX: prevPageX, pageY: prevPageY} = getPageCoordinates(e1)\n        panData.dx = pageX - prevPageX\n        panData.dy = pageY - prevPageY\n        this.parent.onPan(panData)\n      }).on('mouseup.srcissors-pan touchend.srcissors-pan', () => {\n        $doc.off('mouseup.srcissors-pan touchend.srcissors-pan')\n        $doc.off('mousemove.srcissors-pan touchmove.srcissors-pan')\n\n        // only trigger panEnd if pan has been called\n        if (panData.dx != null) this.parent.onPanEnd()\n      })\n    })\n  }\n\n  doubleClick () {\n    let lastClick\n\n    this.view.on('mousedown.srcissors touchstart.srcissors', event => {\n      const now = new Date().getTime()\n      if (lastClick && (lastClick > (now - this.doubleClickThreshold))) {\n        this.parent.onDoubleClick(getPageCoordinates(event))\n      }\n      lastClick = now\n    })\n  }\n\n  preventBrowserDragDrop () {\n    this.view.on('dragstart.srcissors', () => false)\n  }\n\n  // Resize View\n  // -----------\n\n  resizeView ({horizontal, vertical}) {\n    const $template = $('<div>')\n    $template.addClass('resize-handler')\n\n    let positions = []\n    if (horizontal) positions = positions.concat(['right', 'left'])\n    if (vertical) positions = positions.concat(['top', 'bottom'])\n\n    positions.forEach(position => {\n      const $handler = $template.clone()\n      $handler.addClass(`resize-handler-${position}`)\n      $handler.on('mousedown.srcissors touchstart.srcissors', this.getResizeMouseDown(position))\n\n      this.view.append($handler)\n    })\n  }\n\n  getResizeMouseDown (position) {\n    const $doc = $(document)\n\n    return (event) => {\n      let {pageX: lastX, pageY: lastY} = getPageCoordinates(event)\n      event.stopPropagation()\n\n      $doc.on('mousemove.srcissors-resize touchmove.srcissors-resize', e2 => {\n        let dx, dy\n        const {pageX, pageY} = getPageCoordinates(e2)\n        switch (position) {\n          case 'top': case 'bottom':\n            dy = pageY - lastY\n            if (position === 'top') { dy = -dy }\n            lastY = pageY\n            break\n          case 'left': case 'right':\n            dx = pageX - lastX\n            if (position === 'left') { dx = -dx }\n            lastX = pageX\n            break\n        }\n\n        this.parent.onResize({position, dx, dy})\n      }).on('mouseup.srcissors-resize touchend.srcissors-resize', () => {\n        $doc.off('mouseup.srcissors-resize touchmove.srcissors-resize')\n        $doc.off('mousemove.srcissors-resize touchend.srcissors-resize')\n\n        // only trigger panEnd if pan has been called\n        this.parent.onResizeEnd({position})\n      })\n    }\n  }\n\n  responsiveArena () {}\n}\n\n// $(window).on('resize', (event) => console.log 'on window resize')\n","const $ = require('jquery')\n\nmodule.exports = class Preview {\n\n  constructor ({onReady, img, opacity, outline}) {\n    this.onReady = onReady\n    this.img = img\n    this.opacity = opacity\n    this.outline = outline\n    this.x = (this.y = 0)\n    this.width = (this.height = 0)\n\n    this.img.on('load', () => {\n      const width = this.img.width()\n      const height = this.img.height()\n      this.ratio = width / height\n\n      this.onReady({width, height})\n      this.img.show()\n    })\n  }\n\n  setImage ({url}) {\n    this.url = url\n    this.img.attr('src', this.url)\n    if (this.outline) this.setBackgroundImage({url: this.url})\n  }\n\n  setBackgroundImage ({url}) {\n    if (this.opacity > 0) {\n      const bgImg = $('<img>').css({opacity: this.opacity}).attr('src', url)\n      this.outline.append(bgImg)\n    }\n  }\n\n  reset () {\n    this.url = undefined\n    this.x = (this.y = 0)\n    this.width = (this.height = 0)\n    this.img.attr('src', '')\n    this.img.css({width: '', height: '', transform: ''})\n    if (this.outline) this.outline.css({transform: ''}).html('')\n  }\n\n  setWidth (width) {\n    this.img.css({width: `${width}px`, height: 'auto'})\n    const height = width / this.ratio\n    this.updateImageDimensions({width, height})\n  }\n\n  setHeight (height) {\n    this.img.css({width: 'auto', height: `${height}px`})\n    const width = height * this.ratio\n    this.updateImageDimensions({width, height})\n  }\n\n  updateImageDimensions ({width, height}) {\n    this.width = width\n    this.height = height\n    if (this.outline) this.outline.css({width: `${this.width}px`, height: `${this.height}px`})\n  }\n\n  pan (x1, y1) {\n    // Without rounding some numbers would not be set to css.\n    // e.g: '-5.14957320384e-14'\n    this.x = x1\n    this.y = y1\n    const x = Math.round(this.x)\n    const y = Math.round(this.y)\n    this.img.css({transform: `translate(-${x}px, -${y}px)`})\n    if (this.outline) this.outline.css({transform: `translate(-${x}px, -${y}px)`})\n  }\n}\n\n","const $ = require('jquery')\nconst Crop = require('./crop')\n\nmodule.exports = {\n  new ({\n    arena, url, fixedWidth, fixedHeight, minWidth, minHeight,\n    minRatio, maxRatio, maxArea, originalSize, zoomStep, crop, actions, minResolution,\n    surroundingImageOpacity, showSurroundingImage\n  }) {\n    arena = $(arena)\n    const view = arena.find('.crop-view')\n    const preview = view.find('.crop-preview')\n    const img = $('<img>')\n    preview.append(img)\n    let outline = view.find('.crop-outline')\n    if (!outline.length) { outline = undefined }\n\n    const allowedActions = {\n      pan: true,\n      zoomOnDoubleClick: true,\n      resize: true,\n      resizeHorizontal: !fixedWidth,\n      resizeVertical: !fixedHeight\n    }\n\n    $.extend(allowedActions, actions)\n\n    if (zoomStep == null) { zoomStep = 1.25 }\n\n    if (minWidth == null) { minWidth = 50 }\n    if (minHeight == null) { minHeight = 50 }\n\n    return new Crop({\n      url, // {String}\n      crop, // {Object} Set an inital crop. This is the same as calling setCrop()\n      arena, // {jQuery Element}\n      view, // {jQuery Element}\n      img, // {jQuery Element}\n      outline, // {jQuery Element or undefined}\n      showSurroundingImage, // {String} always|panning|never\n      surroundingImageOpacity, // {Number} e.g. in the 0.0 - 1.0 range\n      fixedWidth, // {Number} e.g. 300\n      fixedHeight, // {Number} e.g. 500\n      minViewWidth: minWidth, // {Number} e.g. 100\n      minViewHeight: minHeight, // {Number} e.g. 100\n      minViewRatio: minRatio, // {Number} e.g. 1.5/2\n      maxViewRatio: maxRatio, // {Number} e.g. 2/1\n      maxArea, // {Number} 0.8 -> max 80% of arena area are covered by the preview\n      originalSize, // {Object} Original image size, can be used to display a downscaled\n                    // version of the image in the cropping interface, but use the original\n                    // size for crop attributes; e.g. {width: 4000, height: 3000}\n      zoomStep, // {Number} e.g. 1.25 -> 125%\n      actions: allowedActions,\n      minResolution\n    })\n  }\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__47__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(505);\n"],"names":["root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE__47__","$","Preview","Events","Crop","_ref","arena","view","img","outline","url","fixedWidth","fixedHeight","minViewWidth","minViewHeight","minViewRatio","maxViewRatio","originalSize","crop","zoomStep","maxArea","actions","minResolution","surroundingImageOpacity","showSurroundingImage","_classCallCheck","this","onPreviewReady","bind","loadingCssClass","panningCssClass","outlineCssClass","isPanning","initialCrop","loadEvent","Callbacks","changeEvent","initializeReadyState","zoomInStep","zoomOutStep","arenaWidth","width","arenaHeight","height","setSurroundingImageVisibility","preview","onReady","opacity","setImage","key","value","isReady","readyEvent","empty","isInitialized","reset","addClass","visibility","parseFloat","css","resize","imageWidth","imageHeight","zoomAllOut","previewImageSize","checkRatio","keepDimension","_ref2","updateImageDimensions","events","parent","imageRatio","imageResolution","minRatioForResolution","maxRatioForResolution","calcMaxMinDimensions","setViewDimensions","removeClass","center","setCrop","fire","_ref3","_this","x","y","factor","viewWidth","previewWidth","zoom","pan","on","viewHeight","roundCrop","validateCrop","name","Math","round","ratio","_this2","enforceValidRatio","resizeFocusPoint","getFocusPoint","setRatio","data","newX","startX","dx","newY","startY","dy","_ref4","pageX","pageY","_this$view$0$getBound","getBoundingClientRect","viewX","left","viewY","top","zoomIn","_ref5","position","isResizing","includes","undefined","_ref6","focusPoint","_ref7","_this$enforceMaxArea","enforceMaxArea","_this$enforceViewDime","enforceViewDimensions","viewRatio","minZoomPixelWidth","sqrt","minZoomPixelHeight","maxImageWidth","maxImageHeight","fireChange","isWidthRestricting","params","_ref8","_this$enforceZoom","enforceZoom","setWidth","setHeight","focus","param","_param","percentX","percentY","_ref9","enforceXy","_ref10","_ref11","maxWidth","min","maxHeight","minWidth","minHeight","_ref12","_ref13","newHeight","newWidth","isValidRatio","_this$getRatioBox","getRatioBox","_this$centerAlign","centerAlign","_this$centerAlign2","_ref14","expectedRatio","actualRatio","percentageChange","abs","Error","concat","_ref15","areaWidth","areaHeight","array","_step","_iterator","_createForOfIteratorHelper","s","n","done","number","err","e","f","callback","add","remove","_this3","changeDispatch","setTimeout","getCrop","r","num","obj","image","previewXy","console","log","getPageCoordinates","event","type","originalEvent","changedTouches","horizontal","vertical","doubleClickThreshold","zoomOnDoubleClick","doubleClick","resizeView","resizeHorizontal","resizeVertical","preventBrowserDragDrop","responsiveArena","$doc","document","e1","panData","preventDefault","e2","_getPageCoordinates","_getPageCoordinates2","prevPageX","prevPageY","onPan","off","onPanEnd","lastClick","now","Date","getTime","onDoubleClick","$template","positions","forEach","$handler","clone","getResizeMouseDown","append","_this4","_getPageCoordinates3","lastX","lastY","stopPropagation","_getPageCoordinates4","onResize","onResizeEnd","show","attr","setBackgroundImage","bgImg","transform","html","x1","y1","new","minRatio","maxRatio","find","length","allowedActions","extend","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__"],"sourceRoot":""}